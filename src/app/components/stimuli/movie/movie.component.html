<video [ngClass]="cssClass()" (playing)="videoStarted()" (ended)="videoEnded()" autoplay="autoplay" preload="auto"
  style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);" (timeupdate)="enableResponse()"  #thevideo>
  <source [src]="getFile()" type='video/mp4' />
</video>

<div *ngIf="parameters?.responses; then withMap" class="pictureContainer" [class.hasMap]="parameters?.responses"></div>
<ng-template #withMap>
  <toku-picture
    [parameters]="pictureParameters" [responseEnabled]="responseEnabled"
    style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);"
    (responseEvent)="sendMessage($event)">
  </toku-picture>
</ng-template>


<!-- TODO make the type property dynamic as well -->
